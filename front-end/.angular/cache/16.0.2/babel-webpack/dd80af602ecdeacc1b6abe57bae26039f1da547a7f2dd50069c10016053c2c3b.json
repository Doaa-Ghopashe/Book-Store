{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/auth.service\";\nfunction LoginComponent_div_8_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \"email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_8_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \"Email not valid \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, LoginComponent_div_8_span_1_Template, 2, 0, \"span\", 15);\n    i0.ɵɵtemplate(2, LoginComponent_div_8_span_2_Template, 2, 0, \"span\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.regestrationForm.controls[\"email\"].errors == null ? null : ctx_r0.regestrationForm.controls[\"email\"].errors[\"required\"]) !== undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !(ctx_r0.regestrationForm.controls[\"email\"].errors == null ? null : ctx_r0.regestrationForm.controls[\"email\"].errors[\"required\"]) && ctx_r0.regestrationForm.controls[\"email\"].errors != null);\n  }\n}\nfunction LoginComponent_div_11_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \"password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_11_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \"Password must start with small letter then conatin from 3 to 8 numbers \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, LoginComponent_div_11_span_1_Template, 2, 0, \"span\", 15);\n    i0.ɵɵtemplate(2, LoginComponent_div_11_span_2_Template, 2, 0, \"span\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.regestrationForm.controls[\"password\"].errors == null ? null : ctx_r1.regestrationForm.controls[\"password\"].errors[\"required\"]) !== undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !(ctx_r1.regestrationForm.controls[\"password\"].errors == null ? null : ctx_r1.regestrationForm.controls[\"password\"].errors[\"required\"]) && ctx_r1.regestrationForm.controls[\"password\"].errors != null);\n  }\n}\nclass LoginComponent {\n  constructor(_router, auth) {\n    this._router = _router;\n    this.auth = auth;\n    this.regestrationForm = new FormGroup({\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', [Validators.required, Validators.pattern(/^[a-z]{1}[0-9]{3,8}/)])\n    });\n  }\n  login() {\n    if (this.regestrationForm.status == 'INVALID') {\n      return;\n    }\n    this.auth.login(this.regestrationForm.value).subscribe({\n      next: res => {\n        this._router.navigateByUrl('/home');\n      },\n      error: err => alert(err.error.message),\n      complete: () => {}\n    });\n  }\n  navigate() {\n    this._router.navigateByUrl('/user/register');\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 21,\n  vars: 4,\n  consts: [[1, \"container\"], [1, \"row\", \"align-items-center\"], [1, \"col-md-6\"], [1, \"py-4\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-4\"], [1, \"form-group\", \"mb-4\"], [\"type\", \"email\", \"placeholder\", \"Enter your email\", \"formControlName\", \"email\", 1, \"form-control\", \"my-2\", \"bg-transparent\"], [4, \"ngIf\"], [\"type\", \"password\", \"placeholder\", \"Enter password\", \"formControlName\", \"password\", 1, \"form-control\", \"my-2\", \"bg-transparent\"], [\"type\", \"submit\", 1, \"btn\", 3, \"disabled\"], [1, \"ms-4\"], [3, \"click\"], [1, \"navigate\"], [1, \"col-md-6\", \"p-5\"], [\"src\", \"../../../assets/images/360_F_339709134_9FKW6cgJi0uosfWb2bD4zdcerTvRvNXv.jpg\", \"alt\", \"\", \"srcset\", \"\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"text-danger\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(4, \"h4\", 4);\n      i0.ɵɵtext(5, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵelement(7, \"input\", 6);\n      i0.ɵɵtemplate(8, LoginComponent_div_8_Template, 3, 2, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 5);\n      i0.ɵɵelement(10, \"input\", 8);\n      i0.ɵɵtemplate(11, LoginComponent_div_11_Template, 3, 2, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 9);\n      i0.ɵɵtext(13, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"span\", 10)(15, \"a\", 11);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_15_listener() {\n        return ctx.navigate();\n      });\n      i0.ɵɵtext(16, \"Do have account \");\n      i0.ɵɵelementStart(17, \"span\", 12);\n      i0.ɵɵtext(18, \"plz Register?\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(19, \"div\", 13);\n      i0.ɵɵelement(20, \"img\", 14);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.regestrationForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.regestrationForm.controls[\"email\"].errors && ctx.regestrationForm.controls[\"email\"].touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.regestrationForm.controls[\"password\"].errors && ctx.regestrationForm.controls[\"password\"].touched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.regestrationForm.status == \"INVALID\");\n    }\n  },\n  styles: [\"form[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  color: #ab64bd;\\n  font-weight: 600;\\n}\\nform[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  border: 1px solid #ab64bd;\\n  color: #ab64bd;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUVJLGVBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7QUFGUjtBQUlJO0VBRUkseUJBQUE7RUFDQSxjQUFBO0FBSFIiLCJzb3VyY2VzQ29udGVudCI6WyJmb3JtXG57XG4gICAgLm5hdmlnYXRlXG4gICAge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGNvbG9yOiAjYWI2NGJkO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cbiAgICBidXR0b25cbiAgICB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNhYjY0YmQ7XG4gICAgICAgIGNvbG9yOiAjYWI2NGJkO1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { LoginComponent };","map":{"version":3,"names":["FormControl","FormGroup","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","LoginComponent_div_8_span_1_Template","LoginComponent_div_8_span_2_Template","ɵɵadvance","ɵɵproperty","ctx_r0","regestrationForm","controls","errors","undefined","LoginComponent_div_11_span_1_Template","LoginComponent_div_11_span_2_Template","ctx_r1","LoginComponent","constructor","_router","auth","email","required","password","pattern","login","status","value","subscribe","next","res","navigateByUrl","error","err","alert","message","complete","navigate","ɵɵdirectiveInject","i1","Router","i2","AuthService","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵlistener","LoginComponent_Template_form_ngSubmit_3_listener","ɵɵelement","LoginComponent_div_8_Template","LoginComponent_div_11_Template","LoginComponent_Template_a_click_15_listener","touched"],"sources":["/home/omnia/BookApp/Book-Store/front-end/src/app/components/login/login.component.ts","/home/omnia/BookApp/Book-Store/front-end/src/app/components/login/login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {FormControl,FormGroup,Validators} from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent {\n\n  constructor(private _router:Router, private auth: AuthService)\n  {\n  }\n\n  regestrationForm:FormGroup = new FormGroup(\n    {\n      email :  new FormControl('',[Validators.required,Validators.email]),\n      password : new FormControl('',[Validators.required,Validators.pattern(/^[a-z]{1}[0-9]{3,8}/)]),\n    }\n  )\n\n  login()\n  {\n      if(this.regestrationForm.status=='INVALID')\n      {\n        return;\n      }\n      this.auth.login(this.regestrationForm.value).subscribe(\n      {\n        next: res => {\n          this._router.navigateByUrl('/home')\n        },\n        error: err => alert(err.error.message),\n        complete: () => {\n        }\n      })\n    }\n\n    navigate()\n    {\n      this._router.navigateByUrl('/user/register')\n    }\n\n  \n \n}\n","<div class=\"container\">\n    <div class=\"row align-items-center\">\n        <div class=\"col-md-6\">\n            <form  [formGroup]=\"regestrationForm\" (ngSubmit)=\"login()\" class=\"py-4\">\n                <h4 class=\"mb-4\">Login</h4>\n                <div class=\"form-group mb-4\">\n                    <!-- <label for=\"\">Email:</label> -->\n                    <input type=\"email\" class=\"form-control my-2 bg-transparent\" placeholder=\"Enter your email\" formControlName=\"email\">\n                    <div *ngIf=\"regestrationForm.controls['email'].errors&& regestrationForm.controls['email'].touched \">\n                        <span *ngIf=\"regestrationForm.controls['email'].errors?.['required']!==undefined\" class=\"text-danger\">email is required</span>\n                        <span *ngIf=\"!regestrationForm.controls['email'].errors?.['required'] && regestrationForm.controls['email'].errors!=null \" class=\"text-danger\">Email not valid </span>   \n                    </div>\n                </div>\n                <div class=\"form-group mb-4\">\n                    <!-- <label for=\"\">Password:</label> -->\n                    <input type=\"password\" class=\"form-control my-2 bg-transparent\" placeholder=\"Enter password\" formControlName=\"password\">\n                    <div *ngIf=\"regestrationForm.controls['password'].errors&& regestrationForm.controls['password'].touched \">\n                        <span *ngIf=\"regestrationForm.controls['password'].errors?.['required']!==undefined\" class=\"text-danger\">password is required</span>\n                        <span *ngIf=\"!regestrationForm.controls['password'].errors?.['required'] && regestrationForm.controls['password'].errors!=null \" class=\"text-danger\">Password must start with small letter then conatin from 3 to 8 numbers </span>   \n                    </div>\n                </div>\n                <button [disabled]=\"regestrationForm.status=='INVALID'\"  type=\"submit\" class=\"btn\">Login</button>\n                <span class=\"ms-4\"><a (click)=\"navigate()\">Do have account <span class=\"navigate\">plz Register?</span></a></span>\n            </form>\n        </div>\n\n        <div class=\"col-md-6 p-5\">\n            <img src=\"../../../assets/images/360_F_339709134_9FKW6cgJi0uosfWb2bD4zdcerTvRvNXv.jpg\" alt=\"\" srcset=\"\">\n        </div>\n    </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}